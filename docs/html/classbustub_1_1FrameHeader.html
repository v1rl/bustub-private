<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BusTub: bustub::FrameHeader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BusTub
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacebustub.html">bustub</a></li><li class="navelem"><a class="el" href="classbustub_1_1FrameHeader.html">FrameHeader</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classbustub_1_1FrameHeader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">bustub::FrameHeader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A helper class for <code><a class="el" href="classbustub_1_1BufferPoolManager.html" title="The declaration of the BufferPoolManager class.">BufferPoolManager</a></code> that manages a frame of memory and related metadata.  
 <a href="classbustub_1_1FrameHeader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="buffer__pool__manager_8h_source.html">buffer_pool_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a383e89d311ab8db3ca3e0b6b73c14655"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbustub_1_1FrameHeader.html#a383e89d311ab8db3ca3e0b6b73c14655">FrameHeader</a> (frame_id_t frame_id)</td></tr>
<tr class="memdesc:a383e89d311ab8db3ca3e0b6b73c14655"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor for a <code><a class="el" href="classbustub_1_1FrameHeader.html" title="A helper class for BufferPoolManager that manages a frame of memory and related metadata.">FrameHeader</a></code> that initializes all fields to default values.  <a href="classbustub_1_1FrameHeader.html#a383e89d311ab8db3ca3e0b6b73c14655">More...</a><br /></td></tr>
<tr class="separator:a383e89d311ab8db3ca3e0b6b73c14655"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aacdcadb3a97ed0cf5b98e4e4b88eea34"><td class="memItemLeft" align="right" valign="top"><a id="aacdcadb3a97ed0cf5b98e4e4b88eea34"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>BufferPoolManager</b></td></tr>
<tr class="separator:aacdcadb3a97ed0cf5b98e4e4b88eea34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b4e8677c74e94eb4d431f14e69b9ed"><td class="memItemLeft" align="right" valign="top"><a id="a11b4e8677c74e94eb4d431f14e69b9ed"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>ReadPageGuard</b></td></tr>
<tr class="separator:a11b4e8677c74e94eb4d431f14e69b9ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdaa6e50a29a591f34aff8b62cae552"><td class="memItemLeft" align="right" valign="top"><a id="a1bdaa6e50a29a591f34aff8b62cae552"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>WritePageGuard</b></td></tr>
<tr class="separator:a1bdaa6e50a29a591f34aff8b62cae552"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A helper class for <code><a class="el" href="classbustub_1_1BufferPoolManager.html" title="The declaration of the BufferPoolManager class.">BufferPoolManager</a></code> that manages a frame of memory and related metadata. </p>
<p>This class represents headers for frames of memory that the <code><a class="el" href="classbustub_1_1BufferPoolManager.html" title="The declaration of the BufferPoolManager class.">BufferPoolManager</a></code> stores pages of data into. Note that the actual frames of memory are not stored directly inside a <code><a class="el" href="classbustub_1_1FrameHeader.html" title="A helper class for BufferPoolManager that manages a frame of memory and related metadata.">FrameHeader</a></code>, rather the <code><a class="el" href="classbustub_1_1FrameHeader.html" title="A helper class for BufferPoolManager that manages a frame of memory and related metadata.">FrameHeader</a></code>s store pointer to the frames and are stored separately them.</p>
<hr  />
<p>Something that may (or may not) be of interest to you is why the field <code>data_</code> is stored as a vector that is allocated on the fly instead of as a direct pointer to some pre-allocated chunk of memory.</p>
<p>In a traditional production buffer pool manager, all memory that the buffer pool is intended to manage is allocated in one large contiguous array (think of a very large <code>malloc</code> call that allocates several gigabytes of memory up front). This large contiguous block of memory is then divided into contiguous frames. In other words, frames are defined by an offset from the base of the array in page-sized (4 KB) intervals.</p>
<p>In BusTub, we instead allocate each frame on its own (via a <code>std::vector&lt;char&gt;</code>) in order to easily detect buffer overflow with address sanitizer. Since C++ has no notion of memory safety, it would be very easy to cast a page's data pointer into some large data type and start overwriting other pages of data if they were all contiguous.</p>
<p>If you would like to attempt to use more efficient data structures for your buffer pool manager, you are free to do so. However, you will likely benefit significantly from detecting buffer overflow in future projects (especially project 2). </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a383e89d311ab8db3ca3e0b6b73c14655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383e89d311ab8db3ca3e0b6b73c14655">&#9670;&nbsp;</a></span>FrameHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bustub::FrameHeader::FrameHeader </td>
          <td>(</td>
          <td class="paramtype">frame_id_t&#160;</td>
          <td class="paramname"><em>frame_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The constructor for a <code><a class="el" href="classbustub_1_1FrameHeader.html" title="A helper class for BufferPoolManager that manages a frame of memory and related metadata.">FrameHeader</a></code> that initializes all fields to default values. </p>
<p>See the documentation for <code><a class="el" href="classbustub_1_1FrameHeader.html" title="A helper class for BufferPoolManager that manages a frame of memory and related metadata.">FrameHeader</a></code> in "buffer/buffer_pool_manager.h" for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame_id</td><td>The frame ID / index of the frame we are creating a header for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/include/buffer/<a class="el" href="buffer__pool__manager_8h_source.html">buffer_pool_manager.h</a></li>
<li>src/buffer/buffer_pool_manager.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
